@startuml C4_Context_PaymentPlatform
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

title C4 Context Diagram - Платёжная вертикаль банка

Person(client, "Клиент банка", "Мобильный\Веб")
Person(merchant, "Мерчант", "Мобильный\Веб")

System(payment_platform, "Платёжная платформа банка", "Обеспечивает проведение платежей, управление кошельками, уведомления и отчётность")

System_Ext(core_banking, "Core Banking (Legacy)", "Бухгалтерский контур, хранилище проводок")
System_Ext(payment_provider, "Payment Provider", "Эквайринг, СБП, карточный процессинг")
System_Ext(smtp, "Внешние сервисы уведомлений", "Отправка email уведомлений")

Rel(client, payment_platform, "Создаёт платежи, проверяет баланс", "HTTPS/REST")
Rel(merchant, payment_platform, "Инициирует платежи, получает callbacks", "HTTPS/REST")

Rel(payment_platform, core_banking, "Проводит операции по счетам", "HTTPS")
Rel(payment_platform, payment_provider, "Отправляет платежи на процессинг", "HTTPS")
Rel(payment_platform, smtp, "Отправляет уведомления", "SMTP/HTTPS")

@enduml